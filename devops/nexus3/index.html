
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="My awesome cheatsheet, because they're awesomes">
      
      
        <meta name="author" content="Michael Maffait">
      
      
        <link rel="canonical" href="https://cheatsheet.pdm.ovh/devops/nexus3/">
      
      
        <link rel="prev" href="../molecule/">
      
      
        <link rel="next" href="../portainer/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Nexus3 - Michael M. Cheat sheet</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#nexus-3-installation-et-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Michael M. Cheat sheet" class="md-header__button md-logo" aria-label="Michael M. Cheat sheet" data-md-component="logo">
      
  <img src="../../../img/cheatsheet.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Michael M. Cheat sheet
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Nexus3
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Pandemonium1986/cheatsheet" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Cheat sheet
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Michael M. Cheat sheet" class="md-nav__button md-logo" aria-label="Michael M. Cheat sheet" data-md-component="logo">
      
  <img src="../../../img/cheatsheet.png" alt="logo">

    </a>
    Michael M. Cheat sheet
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Pandemonium1986/cheatsheet" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Cheat sheet
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Cloud
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Cloud
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/azure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/azure-devops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure DevOps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/ovh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ovh
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/jhipster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jhipster
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DevOps
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            DevOps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Commit
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../docker-compose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker Compose
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gitlab/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gitlab
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jenkins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jenkins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../longhorn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Longhorn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../minikube/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Minikube
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../molecule/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Molecule
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Nexus3
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Nexus3
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#version-des-outils" class="md-nav__link">
    <span class="md-ellipsis">
      Version des outils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todo" class="md-nav__link">
    <span class="md-ellipsis">
      Todo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-en-vrac" class="md-nav__link">
    <span class="md-ellipsis">
      Note en vrac
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedure-dinstallation-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Procédure d'installation docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Procédure d&#39;installation docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#etape-1-deployer-le-nexus-3-depuis-limage-officielle" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 1: Deployer le Nexus 3 depuis l'image officielle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-2-supprimer-les-repositories-par-defaut" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 2: Supprimer les repositories par défaut
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-3-executer-les-groovy-scripts-pour-peupler-le-nexus-3" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 3: Executer les groovy scripts pour peupler le Nexus 3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-4-configurer-le-non-automatisable" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 4: Configurer le non automatisable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-5-modifier-la-conf-de-nexus" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 5: Modifier la conf de nexus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-6-faire-les-recommandations-de-la-doc" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 6: Faire les recommandations de la doc
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparatif-artifactory-nexus-proget" class="md-nav__link">
    <span class="md-ellipsis">
      Comparatif Artifactory Nexus ProGet
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#de-nexus-2-a-nexus-3" class="md-nav__link">
    <span class="md-ellipsis">
      De Nexus 2 à Nexus 3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarifications" class="md-nav__link">
    <span class="md-ellipsis">
      Tarifications
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sonatype-nexus-3-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Sonatype Nexus 3 documentation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sonatype Nexus 3 documentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download" class="md-nav__link">
    <span class="md-ellipsis">
      Download
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      System Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade-compatibility-repository-manager-2-to-3" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade Compatibility - Repository Manager 2 to 3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repository-manager-pro-features" class="md-nav__link">
    <span class="md-ellipsis">
      Repository Manager Pro Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repository-manager-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Repository Manager Concepts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directories" class="md-nav__link">
    <span class="md-ellipsis">
      Directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-the-runtime-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring the Runtime Environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-install-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      Post Install Checklist
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrading
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrading">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-upgrade-to-nexus-repository-manager-3" class="md-nav__link">
    <span class="md-ellipsis">
      Why Upgrade to Nexus Repository Manager 3 ?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade-process-and-expectations" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade Process and Expectations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrade Process and Expectations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-transfer-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Data Transfer Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade-details-for-specific-elements" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade Details for Specific Elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-compatibility" class="md-nav__link">
    <span class="md-ellipsis">
      Security Compatibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade-procedure" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade Procedure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrade Procedure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#etape-0-indisponibilite-du-nexus" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 0 : Indisponibilité du nexus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-1-sassurer-que-le-nexus-2-est-en-21411-01" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 1 : S'assurer que le nexus 2 est en 2.14.11-01
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-2-optimisation-pre-migration" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 2 : Optimisation pre-migration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-3-activer-les-upgrade-capability-de-nexus-2-et-nexus-3" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 3 : Activer les "Upgrade Capability" de Nexus 2 et Nexus 3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-4-creer-les-blobstore-cible" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 4 : Créer les blobstore cible
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-5-lancer-la-procedure-de-migration" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 5 : Lancer la procédure de migration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-x" class="md-nav__link">
    <span class="md-ellipsis">
      Etape X
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurationnavigation" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration/Navigation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration/Navigation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-interface" class="md-nav__link">
    <span class="md-ellipsis">
      User Interface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#administration-menu" class="md-nav__link">
    <span class="md-ellipsis">
      Administration Menu
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#source" class="md-nav__link">
    <span class="md-ellipsis">
      Source
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../portainer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Portainer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../traefik/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Traefik
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Os
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Os
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operating-system/debian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Debian
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operating-system/mint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mint
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operating-system/wsl2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Wsl2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operating-system/wsl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Wsl
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Software
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Software
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software/atom/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Atom
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software/msys2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Msys2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software/reveal.js/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reveal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software/vagrant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vagrant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software/virtualbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Virtualbox
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software/vscode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vscode
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#version-des-outils" class="md-nav__link">
    <span class="md-ellipsis">
      Version des outils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todo" class="md-nav__link">
    <span class="md-ellipsis">
      Todo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-en-vrac" class="md-nav__link">
    <span class="md-ellipsis">
      Note en vrac
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedure-dinstallation-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Procédure d'installation docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Procédure d&#39;installation docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#etape-1-deployer-le-nexus-3-depuis-limage-officielle" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 1: Deployer le Nexus 3 depuis l'image officielle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-2-supprimer-les-repositories-par-defaut" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 2: Supprimer les repositories par défaut
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-3-executer-les-groovy-scripts-pour-peupler-le-nexus-3" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 3: Executer les groovy scripts pour peupler le Nexus 3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-4-configurer-le-non-automatisable" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 4: Configurer le non automatisable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-5-modifier-la-conf-de-nexus" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 5: Modifier la conf de nexus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-6-faire-les-recommandations-de-la-doc" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 6: Faire les recommandations de la doc
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparatif-artifactory-nexus-proget" class="md-nav__link">
    <span class="md-ellipsis">
      Comparatif Artifactory Nexus ProGet
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#de-nexus-2-a-nexus-3" class="md-nav__link">
    <span class="md-ellipsis">
      De Nexus 2 à Nexus 3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarifications" class="md-nav__link">
    <span class="md-ellipsis">
      Tarifications
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sonatype-nexus-3-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Sonatype Nexus 3 documentation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sonatype Nexus 3 documentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download" class="md-nav__link">
    <span class="md-ellipsis">
      Download
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      System Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade-compatibility-repository-manager-2-to-3" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade Compatibility - Repository Manager 2 to 3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repository-manager-pro-features" class="md-nav__link">
    <span class="md-ellipsis">
      Repository Manager Pro Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repository-manager-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Repository Manager Concepts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directories" class="md-nav__link">
    <span class="md-ellipsis">
      Directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-the-runtime-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring the Runtime Environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-install-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      Post Install Checklist
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrading
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrading">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-upgrade-to-nexus-repository-manager-3" class="md-nav__link">
    <span class="md-ellipsis">
      Why Upgrade to Nexus Repository Manager 3 ?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade-process-and-expectations" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade Process and Expectations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrade Process and Expectations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-transfer-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Data Transfer Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade-details-for-specific-elements" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade Details for Specific Elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-compatibility" class="md-nav__link">
    <span class="md-ellipsis">
      Security Compatibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade-procedure" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade Procedure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrade Procedure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#etape-0-indisponibilite-du-nexus" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 0 : Indisponibilité du nexus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-1-sassurer-que-le-nexus-2-est-en-21411-01" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 1 : S'assurer que le nexus 2 est en 2.14.11-01
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-2-optimisation-pre-migration" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 2 : Optimisation pre-migration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-3-activer-les-upgrade-capability-de-nexus-2-et-nexus-3" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 3 : Activer les "Upgrade Capability" de Nexus 2 et Nexus 3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-4-creer-les-blobstore-cible" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 4 : Créer les blobstore cible
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-5-lancer-la-procedure-de-migration" class="md-nav__link">
    <span class="md-ellipsis">
      Etape 5 : Lancer la procédure de migration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etape-x" class="md-nav__link">
    <span class="md-ellipsis">
      Etape X
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurationnavigation" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration/Navigation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration/Navigation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-interface" class="md-nav__link">
    <span class="md-ellipsis">
      User Interface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#administration-menu" class="md-nav__link">
    <span class="md-ellipsis">
      Administration Menu
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#source" class="md-nav__link">
    <span class="md-ellipsis">
      Source
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<!-- markdownlint-disable MD001 MD033 MD036 -->

<h1 id="nexus-3-installation-et-configuration">Nexus 3 : Installation et Configuration</h1>
<h2 id="version-des-outils">Version des outils</h2>
<table>
<thead>
<tr>
<th style="text-align: center;">Os / Tool</th>
<th style="text-align: center;">Version</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Nexus 3</td>
<td style="text-align: center;">3.15.0+</td>
</tr>
<tr>
<td style="text-align: center;">Nexus 2</td>
<td style="text-align: center;">2.14.5-02</td>
</tr>
</tbody>
</table>
<h2 id="todo">Todo</h2>
<ul>
<li>Apt plugin</li>
<li>Docker repositories</li>
<li>Content Selector</li>
<li>Cleanup Policies</li>
<li>Capabilities</li>
<li>Tasks</li>
</ul>
<h2 id="note-en-vrac">Note en vrac</h2>
<p>Amélioration de Repository Health Check (RHC) depuis la 3.3.<br />
Fonctionnalité d'analyse des licences.</p>
<p>Concernant les scripts de configuration :<br />
Système très curieux mêlant rest API et groovy script.<br />
On upload un script groovy qu'on éxécute ensuite via rest API (curl).<br />
Techno encore jeune la javadoc montre qu'on peut "créer" mais pas deleter.<br />
Il possible de faire un playbook d'installation/configuration mais cela semble très couteux.<br />
Pas mal pour avoir un démarrage rAPIde mais néanmoins certain option manque (exemple sur les repository maven les valeurs "Max component Age" et "Max medata age" )<br />
La rest API ne semble pas faire mieux.</p>
<h2 id="procedure-dinstallation-docker">Procédure d'installation docker</h2>
<h6 id="etape-1-deployer-le-nexus-3-depuis-limage-officielle">Etape 1: Deployer le Nexus 3 depuis l'image officielle</h6>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>mkdir<span class="w"> </span>/some/dir/nexus-data<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span><span class="m">200</span><span class="w"> </span>/some/dir/nexus-data
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8081</span>:8081<span class="w"> </span>--name<span class="w"> </span>nexus<span class="w"> </span>-v<span class="w"> </span>/some/dir/nexus-data:/nexus-data<span class="w"> </span>sonatype/nexus3
</code></pre></div>
<h6 id="etape-2-supprimer-les-repositories-par-defaut">Etape 2: Supprimer les repositories par défaut</h6>
<p><img alt="nxs3-003.png" src="../../img/nxs3-003.png" /></p>
<p><img alt="nxs3-004.png" src="../../img/nxs3-004.png" /></p>
<h6 id="etape-3-executer-les-groovy-scripts-pour-peupler-le-nexus-3">Etape 3: Executer les groovy scripts pour peupler le Nexus 3</h6>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$nexusgit</span>-dir/provisioning
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>./provision.sh<span class="w"> </span>all
</code></pre></div>
<h6 id="etape-4-configurer-le-non-automatisable">Etape 4: Configurer le non automatisable</h6>
<p><img alt="nxs3-005.png" src="../../img/nxs3-005.png" /></p>
<p><img alt="nxs3-006.png" src="../../img/nxs3-006.png" /></p>
<p>Note : L'activation du RPC entraine automatiquement la création de tasks
<img alt="nxs3-007.png" src="../../img/nxs3-007.png" /></p>
<h6 id="etape-5-modifier-la-conf-de-nexus">Etape 5: Modifier la conf de nexus</h6>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$data</span>-dir/etc
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;nexus.assetdownloads.enabled=true&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>nexus.properties
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>sudo<span class="w"> </span>docker<span class="w"> </span>service<span class="w"> </span>update<span class="w"> </span>nexus_nexus
</code></pre></div>
<h6 id="etape-6-faire-les-recommandations-de-la-doc">Etape 6: Faire les recommandations de la doc</h6>
<ul>
<li>Changer le mot de passe administrateur et l'adresse email.</li>
<li>Faire la configuration SMTP.</li>
<li>Configurer les proxy HTTP et HTTPS.</li>
<li>Créer une procédure de backup.</li>
</ul>
<h2 id="comparatif-artifactory-nexus-proget">Comparatif Artifactory Nexus ProGet</h2>
<table>
<thead>
<tr>
<th></th>
<th style="text-align: center;">Artifactory</th>
<th style="text-align: center;">Nexus 3</th>
<th style="text-align: center;">ProGet</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bower</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Docker</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>GitLFS</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Maven</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>.NET/NuGet</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>npm</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>PyPi</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Raw</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>RubyGems</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Yum</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Apt</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">C</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Conan</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">C</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>CPAN</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">C</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Helm</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">C</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>P2</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">C</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>R</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">C</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Chef</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>CocoaPods</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Go</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Gradle</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">?</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Ivy</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">?</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Opkg</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>PHP Composer</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Puppet</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>SBT</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Vagrant</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>VCS</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Powershell</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Chocolatey</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Romp</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>VSIX</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Upack</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
</tbody>
</table>
<h2 id="de-nexus-2-a-nexus-3">De Nexus 2 à Nexus 3</h2>
<table>
<thead>
<tr>
<th>Fonctionnalités</th>
<th style="text-align: center;">2.x OSS</th>
<th style="text-align: center;">2.x Pro</th>
<th style="text-align: center;">3.x OSS</th>
<th style="text-align: center;">3.x Pro</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bower</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Docker</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Maven</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>npm</td>
<td style="text-align: center;">Limité</td>
<td style="text-align: center;">Limité</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>NuGet</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>PyPI</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Ruby Gems</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Yum</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Clusters haute disponibilité</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Plug-in S3 Blobstore</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Passage de 2x à 3x</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Déploiement illimité</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Recherche de composants</td>
<td style="text-align: center;">Limité</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Téléchargement artefact tiers dans IU</td>
<td style="text-align: center;">Limité</td>
<td style="text-align: center;">Limité</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Repository Health Check (RHC)</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Métadonnées personnalisées</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">Prévu</td>
</tr>
<tr>
<td>Sauvegarde et reprise améliorée</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>API d'approvisionnement</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>REST</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Plug-ins</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">Nexus Exchange</td>
<td style="text-align: center;">Nexus Exchange</td>
</tr>
<tr>
<td>Intégration open source</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Support pour jeton d'authentication</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Contrôles accès personnalisés</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Cible repository / Sélecteurs de contenu</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>LDAP d'entreprise</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>P2</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">Communauté</td>
<td style="text-align: center;">Communauté</td>
</tr>
<tr>
<td>OBR</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">Prévu</td>
<td style="text-align: center;">Prévu</td>
</tr>
<tr>
<td>Crowd</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Proxy intelligent</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">Prévu</td>
</tr>
<tr>
<td>Staging et builds</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Aide de la communauté</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td>Support pour entreprises</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
</tbody>
</table>
<h2 id="tarifications">Tarifications</h2>
<table>
<thead>
<tr>
<th></th>
<th style="text-align: center;">Artifactory</th>
<th style="text-align: center;">Nexus 3</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pro</td>
<td style="text-align: center;">2950 $ par an</td>
<td style="text-align: center;">10$ par utilisateurs par mois</td>
</tr>
<tr>
<td>Pro X</td>
<td style="text-align: center;">14400 $ par an</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Entreprise</td>
<td style="text-align: center;">29500 $ par an</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td>Entreprise +</td>
<td style="text-align: center;">$$$$$</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p>Note artifactory est "Unlimited number of users"</p>
<h2 id="sonatype-nexus-3-documentation">Sonatype Nexus 3 documentation</h2>
<h3 id="download">Download</h3>
<p>Dernière version de Nexus 3 : 3.15.0-01 (2019-01-15)
Disponible sous trois formes :</p>
<ul>
<li>Archives (Unix/Windows/OSX).</li>
<li>Docker Image.</li>
<li>Cloud Templates.</li>
</ul>
<h3 id="system-requirements">System Requirements</h3>
<ul>
<li>Avoir java 8 et un utilisateur dédié.</li>
<li>Augmenter la limit du nombre de fichier ouvrable par l'utilisateur nexus "nexus - nofile 65536". L'image docker est configuré comme il faut mais si besoin on peut la démarrer avec le flags : "--ulimit nofile=65536:65536"</li>
<li>Les paramètres de la JVM sont dépendants de la RAM disponible sans toutefois dépasser les 4GB Max.</li>
<li>Laisser les params de la JVM par défaut à min 1200MB et max &lt;4GB.</li>
</ul>
<table>
<thead>
<tr>
<th>Physical Memory</th>
<th>Example Maximum Memory Configuration</th>
</tr>
</thead>
<tbody>
<tr>
<td>4GB</td>
<td>-Xms1200M<br>-Xmx1200M<br>-XX:MaxDirectMemorySize=2G</td>
</tr>
<tr>
<td>8GB</td>
<td>-Xms2703M<br><br>-Xmx2703M<br>-XX:MaxDirectMemorySize=2703M</td>
</tr>
<tr>
<td>12GB</td>
<td>-Xms4G<br>-Xmx4G<br>-XX:MaxDirectMemorySize=4014M</td>
</tr>
<tr>
<td>16GB</td>
<td>-Xms4G<br>-Xmx4G<br>-XX:MaxDirectMemorySize=6717M</td>
</tr>
<tr>
<td>32GB</td>
<td>-Xms4G<br><br>-Xmx4G<br>-XX:MaxDirectMemorySize=17530M</td>
</tr>
<tr>
<td>64GB</td>
<td>-Xms4G<br>-Xmx4G<br>-XX:MaxDirectMemorySize=39158M</td>
</tr>
</tbody>
</table>
<p>Pas de NFS pour les blobstore. Si il n'y a pas le choix il faut du NFS v4 car NFS v3 est connu pour des problèmes de compatibilités.</p>
<h3 id="upgrade-compatibility-repository-manager-2-to-3">Upgrade Compatibility - Repository Manager 2 to 3</h3>
<p>On ne peut qu’upgrader que d'une version 2.14.1 + vers une 3.1 +.<br />
On ne peut qu’upgrader que d'une OSS vers une OSS ou d'une PRO vers une PRO.<br />
On ne peut upgrader que sur une version vanilla de la 3.y (fresh install).<br />
Version recommandée pour l'upgrade 2.14.5+</p>
<p>Matrice de migration :</p>
<table>
<thead>
<tr>
<th>Version 2</th>
<th>Version 3</th>
<th>Minimum Lifecycle Firewall compatible IQ Server</th>
</tr>
</thead>
<tbody>
<tr>
<td>2.14.8</td>
<td>3.12.1</td>
<td>1.46.0</td>
</tr>
<tr>
<td>2.14.6</td>
<td>3.8.0</td>
<td>1.42.0</td>
</tr>
<tr>
<td>2.14.5</td>
<td>3.7.1</td>
<td>1.33.0</td>
</tr>
<tr>
<td>2.14.4</td>
<td>3.4.0</td>
<td>Not Supported</td>
</tr>
<tr>
<td>2.14.3</td>
<td>3.2.1</td>
<td>Not Supported</td>
</tr>
<tr>
<td>2.14.2</td>
<td>3.2</td>
<td>Not Supported</td>
</tr>
<tr>
<td>2.14.1</td>
<td>3.1</td>
<td>Not Supported</td>
</tr>
</tbody>
</table>
<h3 id="repository-manager-pro-features">Repository Manager Pro Features</h3>
<p><em>Atlassian Crowd Support</em><br />
Il s'agit d'un système de sso vendu par Atlassian. La version pro supporte nativement cette fonctionnalité.</p>
<p><em>Staging and Build Promotion</em><br />
Permet d'automatiser directement au sein de Nexus 3 la promotion de component entre les phases de builds pour passer d'un repository de 'staging' à un repository de 'production'.</p>
<p><em>Tagging</em><br />
Permet de "taguer" un ensemble de component pour les associer les uns autres.<br />
Fonctionne de pair avec la fonctionnalité de staging de Nexus 3.</p>
<p><em>User Token Support</em><br />
Permet d'utiliser des token en lieu et place des mots de passes.</p>
<p><em>High Availability</em><br />
Permet de clusteriser Nexus 3.</p>
<p><em>Repository Health Check</em><br />
Fonctionnalité de check des components pour notamment l'intégrer dans un pipeline DevSecOps.<br />
Permet de détecter automatiquement les risques de sécurité des projets opensource.<br />
Fonctionne "à la manière" d'un xray.</p>
<p><em>Customer Success</em><br />
Coaching spécifique dédié au souscripteur.</p>
<p><em>Enterprise Support</em><br />
Support.</p>
<h3 id="repository-manager-concepts">Repository Manager Concepts</h3>
<p><em>Components</em><br />
Le terme employé par Sonatype pour désigner un "artifact, package, bundle, archive".</p>
<p><em>Assets</em><br />
Eléments constituant un composant. Par exemples un jar et son pom.xml forme un artifiact maven.</p>
<p><em>Components in Repositories</em><br />
Le repository est l'endroit qui rend accessible les composants.</p>
<h3 id="installation">Installation</h3>
<p><em>Nexus 3</em> est une webapps java totalement autonome. Il existe deux méthodes "d'installation" de nexus :</p>
<ul>
<li>Via l'archive de distribution classique.<br />
  Il suffit de dézipper le contenu de l'archive (/opt/nexus) et d'exécuter bin/nexus start.
  L'application est démarrée lorsque le message de log de la console "Started Sonatype Nexus".</li>
<li>Via l'image docker.<br />
  Exécuter la commande suivante :</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>mkdir<span class="w"> </span>/some/dir/nexus-data<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span><span class="m">200</span><span class="w"> </span>/some/dir/nexus-data
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8081</span>:8081<span class="w"> </span>--name<span class="w"> </span>nexus<span class="w"> </span>-v<span class="w"> </span>/some/dir/nexus-data:/nexus-data<span class="w"> </span>sonatype/nexus3
</code></pre></div>
<h4 id="directories">Directories</h4>
<p>Après l'installation deux répertoires apparaissent :</p>
<ul>
<li>nexus-3.XX.X-XX
  Contient l'application Nexus Repository Manager.</li>
<li>sonatype-work
  Contient l'ensemble des repositories, components et autres.
  Le dossier sonatype-work/nexus3/blobs est le plus important, c'est lui qui contient les repositories.</li>
</ul>
<h4 id="configuring-the-runtime-environment">Configuring the Runtime Environment</h4>
<p>La configuration du produit se situe dans trois répertoires distinct :</p>
<ul>
<li>$data-dir/etc
  Contient le fichier <em>nexus.properties</em> qui possède quelques variables de configuration notamment l'ip et le port.</li>
<li>$install-dir/bin
  Contient le fichier <em>nexus.vmoptions</em> qui possède quelques variables de configuration notamment la localisation du data directories.</li>
<li>$install-dir/etc
  Contient les configuration des middlexare utilisé par Nexus 3.
  Pour savoir "où" modifier "quoi" autant se rendre sur la <a href="https://help.sonatype.com/repomanager3/installation/configuring-the-runtime-environment">documentation officielle</a>.</li>
</ul>
<h4 id="post-install-checklist">Post Install Checklist</h4>
<ul>
<li>Etape 1: Changer le mot de passe administrateur et l'adresse email.</li>
<li>Etape 2: Faire la configuration SMTP.</li>
<li>Etape 3: Configurer les proxy HTTP et HTTPS.</li>
<li>Etape 4: Créer une procédure de backup.</li>
</ul>
<h3 id="upgrading">Upgrading</h3>
<h4 id="why-upgrade-to-nexus-repository-manager-3">Why Upgrade to Nexus Repository Manager 3 ?</h4>
<ul>
<li>Nouveau format de repository.</li>
<li>Interface utilisateur améliorée</li>
<li>Recherche de composants performante</li>
<li>Navigation dans le référentiel universel</li>
<li>Métadonnées améliorées</li>
</ul>
<h3 id="upgrade-process-and-expectations">Upgrade Process and Expectations</h3>
<p><em>What Is Upgraded</em></p>
<ul>
<li>Stockage des compoent des fichiers aux blobs :
  On passe du système de fichier à plat de Nexus 2 au blob de Nexus 3.<br />
<strong>C'est le plus gros changement.</strong></li>
<li>Les metadata associées aux components passe de multiple fichier à la base OrientDB.</li>
<li>Les URLs de déploiement et d'accès sont maintenant différentes.</li>
</ul>
<p><em>What Is Not Upgraded</em>
Parmis les plus impactant :</p>
<ul>
<li>virtual repositories</li>
<li>Java VM settings, including custom system properties or variables</li>
<li>operating system nexus service scripts</li>
<li>operating system optimization, such as increasing allowable open file handles</li>
<li>environment variables affecting values used to control the repository manager</li>
<li>third-party or custom-developed plugins</li>
</ul>
<p><em>Repository Format Support</em></p>
<ul>
<li>npm</li>
<li>NuGet</li>
<li>Site/Raw</li>
<li>Maven2</li>
<li>RubyGems</li>
</ul>
<h4 id="data-transfer-methods">Data Transfer Methods</h4>
<ul>
<li>HTTP Downloading
  Nécessaire si le Nexus 2 et 3 sont sur deux machines différentes.</li>
<li>File System Copying
  Possible si et seulement si le Nexus 2 et 3 sont configurés pour accéder au même espace de stockage.<br />
  C'est la méthode alternative</li>
<li>File System Hard Linking
  Possible si et seulement si le Nexus 2 et 3 sont configurés pour accéder au même espace de stockage.<br />
  C'est la méthode la plus rAPIde.</li>
</ul>
<h4 id="upgrade-details-for-specific-elements">Upgrade Details for Specific Elements</h4>
<ul>
<li>Repository IDs
  Attention les repository ID n'existe plus dans Nexus 3.<br />
  Ils sont néanmoins "case sensitive" pendant le process de migration.</li>
<li>Repository Groups
  S'assurer que dans un groupe l'ensemble des repositories soient éligibles.<br />
  Au risque de ne pas upgrader le groupe entier...</li>
<li>HTTP(S) Proxy Configuration
  Ils sont à configurer manuellement dans chaque environment.</li>
</ul>
<h4 id="security-compatibility">Security Compatibility</h4>
<ul>
<li>Version 2 Roles
  Les roles sont upgradé du Nexus 2 vers le Nexus 3. Ils sont préfixés de nx2-.</li>
<li>Version 2 Repository Targets and Target Privileges
  Les Repository targets de Nexus 2 deviennent des Content Selector dans Nexus 3.</li>
</ul>
<h4 id="upgrade-procedure">Upgrade Procedure</h4>
<p>Lire la <a href="https://help.sonatype.com/repomanager3/upgrading/upgrade-procedures">documentation officielle</a>.</p>
<h6 id="etape-0-indisponibilite-du-nexus">Etape 0 : Indisponibilité du nexus</h6>
<p>Pendant la phase de migration le Nexus 2 reste disponible.<br />
Une étape de "synchronisation" permet de récupérer les éventuelles "push" sur le nexus pendant la migration jusqu'à une certaine étape.<br />
A la fin le Nexus 2 doit être désactivé au profit du Nexus 3, il est préférable dès lors d’effectuer l’opération en HNO et s’assurer que Jenkins n’effectue aucun deploy pendant la migration.</p>
<p><em>Designing Your Upgrade Plan</em></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Identification of a maintenance window for version 2, allowing the upgrade to proceed without interruption.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Selection of an installation scenario that best supports your upgrade plan.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Selection of an upgrade method.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Getting access to a system storage , as well as location for content to be transferred to.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Identification of configurations that may result in failure, and prevent upgrade of certain components.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Review of security settings , and associated differences between version 2 and version 3.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Considerations for optimization.</li>
</ul>
<h6 id="etape-1-sassurer-que-le-nexus-2-est-en-21411-01">Etape 1 : S'assurer que le nexus 2 est en 2.14.11-01</h6>
<p>Le nexus 2 doit être dans la plus haute version disponible au moment de l'update.<br />
Ceci permet de s’affranchir d’éventuelle problème d’incompatibilité de migration entre les versions et corrige d’éventuelle bug concernant la procédure d’update automatique.</p>
<h6 id="etape-2-optimisation-pre-migration">Etape 2 : Optimisation pre-migration</h6>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Nexus 2 : Désactiver les "System feeds".</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Nexus 2 : Supprimer les Snapshots.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Nexus 2 : Désactiver les "Scheduled task for releases".</li>
</ul>
<h6 id="etape-3-activer-les-upgrade-capability-de-nexus-2-et-nexus-3">Etape 3 : Activer les "Upgrade Capability" de Nexus 2 et Nexus 3</h6>
<p>Dans Nexus 2 / 3 en tant qu'admin
<img alt="nxs3-008.png" src="../../img/nxs3-008.png" /></p>
<p><img alt="nxs3-009.png" src="../../img/nxs3-009.png" /></p>
<p><img alt="nxs3-010.png" src="../../img/nxs3-010.png" /></p>
<h6 id="etape-4-creer-les-blobstore-cible">Etape 4 : Créer les blobstore cible</h6>
<p>Si ce n'est pas déjà fait (à l'instanciation du Nexus 3). Il faut créer les blobstores via le sript de provionning.</p>
<p><img alt="nxs3-011.png" src="../../img/nxs3-011.png" /></p>
<h6 id="etape-5-lancer-la-procedure-de-migration">Etape 5 : Lancer la procédure de migration</h6>
<p>Dans Nexus 3 en tant qu'admin.<br />
Dans <em>Administation</em> --&gt; <em>System</em> --&gt; <em>Upgrade</em>.</p>
<h6 id="etape-x">Etape X</h6>
<p>La migration est terminée, passons aux post migration tasks :</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Nexus 3 : Checker les repositories group.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Nexus 3 : Checker les RHC.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Nexus 3 : Checker les settings (Imap, Proxy).</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Nexus 3 : Nettoyer les roles et la security.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Nexus 3 : Vérifier les roles des utilisateurs admin et anonymous.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Nexus 3 : Configurer le mot de passe admin.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Nexus 3 : Créer les taches de clean des blobstores maven et de backup.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Nexus 3 : Retirer la capabilities upgrade.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Nexus 2 : Stopper le service.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Client : Modifier toutes les URLs des .m2/settings.xml et .npmrc</li>
</ul>
<h2 id="configurationnavigation">Configuration/Navigation</h2>
<h3 id="user-interface">User Interface</h3>
<p>En se connectant on arrive sur l'interface de base.<br />
<img alt="nxs3-001.pngWelcome" src="../../img/nxs3-001.png" /><br />
En tant qu'utilisateur anonyme on peut accéder à l'interface de recherche rAPIde et avancé et naviguer dans les repositories.<br />
En tant qu'admin on peut manager via le bouton engrenage.<br />
En tant qu'utilisateur identifié possédant les droits suffisants, on peut uploader depuis l'interface un component.</p>
<h3 id="administration-menu">Administration Menu</h3>
<p>L'interface d'administration est découpée en 5 sous menu.<br />
<img alt="nxs3-002.pngadministration" src="../../img/nxs3-002.png" /></p>
<ul>
<li>Repository, gère les repositories, blob stores, cleanup policies et Content Selector.</li>
<li>IQ Server, gère la connexion au IQ Server.</li>
<li>Security, gère tous ce qui est relatif à la sécurité (Authentication, Authorization, Privileges... ).</li>
<li>Support, fonctionnalité de monitoring du serveur.</li>
<li>System, la configuration générale de l'outil.</li>
</ul>
<p>Dans l'interface Repository la notion de <strong>Blob stores</strong> et <strong>Content selectors</strong> est importante.</p>
<h3 id="source">Source</h3>
<p><a href="https://fr.sonatype.com/">Sonatype Global</a><br />
<a href="https://fr.sonatype.com/download-oss-sonatype">Nexus 3 Dowloads</a><br />
<a href="https://hub.docker.com/r/sonatype/nexus3">Docker Sonatype/Nexus 3</a></p>
<p><a href="https://fr.sonatype.com/nexus-repository-oss">Nexus 3 OSS Global</a><br />
<a href="https://exchange.sonatype.com/list">Nexus 3 Communauté</a><br />
<a href="https://fr.sonatype.com/nexus-repository-oss-vs.-pro-features">Nexus Comparatif</a></p>
<p><a href="https://help.sonatype.com/repomanager3/release-notes/2019-release-notes">Nexus 3 Release Notes 2019</a><br />
<a href="https://help.sonatype.com/repomanager3/installation/run-as-a-service">Nexus 3 Run as a Service</a><br />
<a href="https://help.sonatype.com/repomanager3/installation/run-behind-a-reverse-proxy">Nexus 3 Run Behind a Reverse Proxy</a><br />
<a href="https://help.sonatype.com/repomanager3/upgrading/upgrade-procedures">Nexus 3 Upgrade Procedures</a></p>
<p><a href="https://guides.sonatype.com/repo3/quick-start-guides/proxying-maven-and-npm/">Nexus 3 Quick Start Maven/Npm</a>
<a href="https://help.sonatype.com/repomanager3/configuration/storage-guide">Nexus 3 Storage Guide</a>
<a href="https://github.com/sonatype-nexus-community/nexus-scripting-examples">Nexus 3 Scripting Examples</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "search.highlight"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>